<form
  *ngIf="form$ | async as form"
  [formGroup]="form"
  (ngSubmit)="onFormSubmit(form)"
>
  <label>
    <span>Название* </span>
    <input formControlName="title" type="text" />
    <ego-form-control-validation-message
      controlName="title"
    ></ego-form-control-validation-message>
  </label>
  <label>
    <span>Адрес*</span>
    <input
      formControlName="address"
      type="text"
      [matAutocomplete]="addressAutocomplete"
    />
    <mat-autocomplete
      #addressAutocomplete="matAutocomplete"
      (optionSelected)="onAddressSelect($event)"
      [displayWith]="displayAddressValue"
      autoActiveFirstOption
    >
      <mat-option *ngFor="let address of addresses$ | async" [value]="address">
        {{ address.value }}
      </mat-option>
    </mat-autocomplete>
    <ego-form-control-validation-message
      controlName="address"
    ></ego-form-control-validation-message>
  </label>
  <div class="row">
    <label>
      <span>Время начала*</span>
      <input
        [owlDateTime]="startDate"
        [owlDateTimeTrigger]="startDate"
        [min]="minDate"
        formControlName="start"
      />
      <owl-date-time #startDate></owl-date-time>
      <ego-form-control-validation-message
        controlName="start"
      ></ego-form-control-validation-message>
    </label>
    <label>
      <span>Время окончания*</span>
      <input
        [owlDateTime]="endDate"
        [owlDateTimeTrigger]="endDate"
        [min]="minDate"
        formControlName="end"
      />
      <owl-date-time #endDate></owl-date-time>
      <ego-form-control-validation-message
        controlName="end"
      ></ego-form-control-validation-message>
    </label>
  </div>
  <div class="row">
    <label>
      <span>Стоимость*</span>
      <input formControlName="price" type="number" />
      <ego-form-control-validation-message
        controlName="price"
      ></ego-form-control-validation-message>
    </label>
    <label>
      <span>Тип события*</span>
      <select formControlName="type">
        <option *ngFor="let type of types$ | async" [ngValue]="type.id">
          {{ type.value }}
        </option>
      </select>
      <ego-form-control-validation-message
        controlName="type"
      ></ego-form-control-validation-message>
    </label>
  </div>
  <label>
    <span>Описание*</span>
    <textarea formControlName="description"></textarea>
    <ego-form-control-validation-message
      controlName="description"
    ></ego-form-control-validation-message>
  </label>
  <ego-uploader class="uploader" formControlName="avatar"></ego-uploader>
  <ego-form-control-validation-message
    controlName="avatar"
  ></ego-form-control-validation-message>
  <button type="submit" class="primary submit-btn">Сохранить</button>
</form>
